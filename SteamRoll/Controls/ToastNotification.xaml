<UserControl x:Class="SteamRoll.Controls.ToastNotification"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="80" d:DesignWidth="360"
             RenderTransformOrigin="1,0.5">
    
    <UserControl.RenderTransform>
        <TranslateTransform x:Name="SlideTransform" X="400"/>
    </UserControl.RenderTransform>
    
    <UserControl.Resources>
        <!-- Slide in from right -->
        <Storyboard x:Key="SlideIn">
            <DoubleAnimation Storyboard.TargetName="SlideTransform"
                             Storyboard.TargetProperty="X"
                             From="400" To="0" Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                             From="0" To="1" Duration="0:0:0.2"/>
        </Storyboard>
        
        <!-- Slide out to right -->
        <Storyboard x:Key="SlideOut">
            <DoubleAnimation Storyboard.TargetName="SlideTransform"
                             Storyboard.TargetProperty="X"
                             From="0" To="400" Duration="0:0:0.25">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                             From="1" To="0" Duration="0:0:0.2"/>
        </Storyboard>
        
        <!-- Toast Border Style - extracted to avoid BAML issues -->
        <Style x:Key="ToastBorderStyle" TargetType="Border">
            <Setter Property="Background" Value="#1C2128"/>
            <Setter Property="BorderBrush" Value="#30363D"/>
        </Style>
        
        <!-- Close Button Style - extracted to avoid BAML issues -->
        <Style x:Key="ToastCloseButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="4">
                            <TextBlock Text="✕" FontSize="12" FontFamily="Segoe UI Emoji"
                                       Foreground="{DynamicResource TextMutedBrush}"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#30363D"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>
    
    <Border x:Name="ToastBorder" CornerRadius="10" Padding="16,14" Margin="8"
            BorderThickness="1" MinWidth="320" MaxWidth="400"
            Style="{DynamicResource ToastBorderStyle}">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="4" Opacity="0.5" Color="Black"/>
        </Border.Effect>
        
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <!-- Icon -->
            <Border Grid.Column="0" x:Name="IconBorder" Width="36" Height="36" 
                    CornerRadius="8" Margin="0,0,14,0" VerticalAlignment="Center">
                <TextBlock x:Name="IconText" Text="✓" FontSize="18" FontFamily="Segoe UI Emoji"
                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>
            
            <!-- Message Content -->
            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                <TextBlock x:Name="TitleText" Text="Success" FontSize="14" FontWeight="SemiBold"
                           Foreground="{DynamicResource TextPrimaryBrush}"/>
                <TextBlock x:Name="MessageText" Text="Operation completed successfully." 
                           FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}"
                           TextWrapping="Wrap" MaxWidth="280" Margin="0,4,0,0"/>
            </StackPanel>
            
            <!-- Close Button -->
            <Button Grid.Column="2" x:Name="CloseButton" 
                    Width="28" Height="28" VerticalAlignment="Top"
                    Click="CloseButton_Click" Cursor="Hand"
                    Style="{DynamicResource ToastCloseButtonStyle}"/>
        </Grid>
    </Border>
</UserControl>

